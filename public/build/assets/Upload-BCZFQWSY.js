import{c as ye,a as ge,d as we,j as t}from"./app-C1y220Qp.js";import{A as ke}from"./app-layout-D8FSUmTF.js";import{b as _e}from"./index-2q6EsOzg.js";import{u as Le}from"./useTranslation-BlanJa44.js";/* empty css            */import"./button-ePdMrV5P.js";import"./index-DumcBtYi.js";import"./index-D2jaKfZb.js";import"./index-B60J3u6x.js";import"./index-CMWG4mbA.js";import"./book-open-DltObIFg.js";import"./globe-Cwq9W1Sq.js";function Oe(){const e=ye.c(154),{t:l}=Le(),[ne,he]=ge.useState(null);let ue;e[0]===Symbol.for("react.memo_cache_sentinel")?(ue={title:"",authors:"",program_study:"",epub:null,cover:null},e[0]=ue):ue=e[0];const{data:i,setData:r,post:xe,processing:o,errors:s}=we(ue);let ce,pe;e[1]!==i.cover?(ce=()=>{if(!i.cover){he(null);return}const a=URL.createObjectURL(i.cover);return he(a),()=>URL.revokeObjectURL(a)},pe=[i.cover],e[1]=i.cover,e[2]=ce,e[3]=pe):(ce=e[2],pe=e[3]),ge.useEffect(ce,pe);let fe;e[4]!==xe?(fe=a=>{a.preventDefault(),xe(_e.store(),{forceFormData:!0})},e[4]=xe,e[5]=fe):fe=e[5];const be=fe;let d;e[6]!==l?(d=l("upload.title"),e[6]=l,e[7]=d):d=e[7];let n;e[8]!==d?(n=t.jsx("h1",{className:"mb-2 text-2xl font-semibold",children:d}),e[8]=d,e[9]=n):n=e[9];let u;e[10]!==l?(u=l("upload.subtitle"),e[10]=l,e[11]=u):u=e[11];let c;e[12]!==u?(c=t.jsx("p",{className:"mb-6 text-sm text-neutral-500",children:u}),e[12]=u,e[13]=c):c=e[13];let p;e[14]!==ne||e[15]!==r||e[16]!==l?(p=t.jsx("div",{className:"flex justify-center rounded-xl border-2 border-dashed border-neutral-200 bg-neutral-50 p-4 dark:border-neutral-800 dark:bg-neutral-900/50",children:ne?t.jsxs("div",{className:"group relative",children:[t.jsx("img",{src:ne,alt:"Cover Preview",className:"h-52 w-36 rounded-lg border border-white object-cover shadow-lg dark:border-neutral-700"}),t.jsx("button",{type:"button",onClick:()=>r("cover",null),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white shadow-md transition-colors hover:bg-red-600",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx("div",{className:"mx-auto mb-2 h-12 w-12 text-neutral-400",children:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),t.jsx("p",{className:"text-xs text-neutral-500",children:l("upload.preview_empty")})]})}),e[14]=ne,e[15]=r,e[16]=l,e[17]=p):p=e[17];let f;e[18]!==l?(f=l("upload.label_title"),e[18]=l,e[19]=f):f=e[19];let m;e[20]!==f?(m=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:f}),e[20]=f,e[21]=m):m=e[21];const ve=i.title;let x;e[22]!==r?(x=a=>r("title",a.target.value),e[22]=r,e[23]=x):x=e[23];let b;e[24]!==l?(b=l("upload.placeholder_title"),e[24]=l,e[25]=b):b=e[25];let h;e[26]!==i.title||e[27]!==x||e[28]!==b?(h=t.jsx("input",{type:"text",value:ve,onChange:x,className:"w-full rounded-lg border px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-900",placeholder:b}),e[26]=i.title,e[27]=x,e[28]=b,e[29]=h):h=e[29];let g;e[30]!==s.title?(g=s.title&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.title}),e[30]=s.title,e[31]=g):g=e[31];let v;e[32]!==m||e[33]!==h||e[34]!==g?(v=t.jsxs("div",{children:[m,h,g]}),e[32]=m,e[33]=h,e[34]=g,e[35]=v):v=e[35];let j;e[36]!==l?(j=l("upload.label_author"),e[36]=l,e[37]=j):j=e[37];let N;e[38]!==j?(N=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:j}),e[38]=j,e[39]=N):N=e[39];const je=i.authors;let y;e[40]!==r?(y=a=>r("authors",a.target.value),e[40]=r,e[41]=y):y=e[41];let w;e[42]!==l?(w=l("upload.placeholder_author"),e[42]=l,e[43]=w):w=e[43];let k;e[44]!==i.authors||e[45]!==y||e[46]!==w?(k=t.jsx("input",{type:"text",value:je,onChange:y,className:"w-full rounded-lg border px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-900",placeholder:w}),e[44]=i.authors,e[45]=y,e[46]=w,e[47]=k):k=e[47];let _;e[48]!==s.authors?(_=s.authors&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.authors}),e[48]=s.authors,e[49]=_):_=e[49];let L;e[50]!==N||e[51]!==k||e[52]!==_?(L=t.jsxs("div",{children:[N,k,_]}),e[50]=N,e[51]=k,e[52]=_,e[53]=L):L=e[53];let C;e[54]!==l?(C=l("upload.label_prodi"),e[54]=l,e[55]=C):C=e[55];let R;e[56]!==C?(R=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:C}),e[56]=C,e[57]=R):R=e[57];const Ne=i.program_study;let I;e[58]!==r?(I=a=>r("program_study",a.target.value),e[58]=r,e[59]=I):I=e[59];let M;e[60]!==l?(M=l("upload.select_prodi"),e[60]=l,e[61]=M):M=e[61];let U;e[62]!==M?(U=t.jsx("option",{value:"",children:M}),e[62]=M,e[63]=U):U=e[63];let A;e[64]!==l?(A=l("upload.prodi.ti"),e[64]=l,e[65]=A):A=e[65];let S;e[66]!==A?(S=t.jsx("option",{value:"TI",children:A}),e[66]=A,e[67]=S):S=e[67];let z;e[68]!==l?(z=l("upload.prodi.si"),e[68]=l,e[69]=z):z=e[69];let B;e[70]!==z?(B=t.jsx("option",{value:"SI",children:z}),e[70]=z,e[71]=B):B=e[71];let E;e[72]!==l?(E=l("upload.prodi.kim"),e[72]=l,e[73]=E):E=e[73];let D;e[74]!==E?(D=t.jsx("option",{value:"KIM",children:E}),e[74]=E,e[75]=D):D=e[75];let F;e[76]!==l?(F=l("upload.prodi.fis"),e[76]=l,e[77]=F):F=e[77];let O;e[78]!==F?(O=t.jsx("option",{value:"FIS",children:F}),e[78]=F,e[79]=O):O=e[79];let T;e[80]!==l?(T=l("upload.prodi.algi"),e[80]=l,e[81]=T):T=e[81];let H;e[82]!==T?(H=t.jsx("option",{value:"ALGI",children:T}),e[82]=T,e[83]=H):H=e[83];let P;e[84]!==l?(P=l("upload.prodi.mat"),e[84]=l,e[85]=P):P=e[85];let V;e[86]!==P?(V=t.jsx("option",{value:"MAT",children:P}),e[86]=P,e[87]=V):V=e[87];let W;e[88]!==l?(W=l("upload.prodi.bio"),e[88]=l,e[89]=W):W=e[89];let G;e[90]!==W?(G=t.jsx("option",{value:"BIO",children:W}),e[90]=W,e[91]=G):G=e[91];let K;e[92]!==i.program_study||e[93]!==I||e[94]!==U||e[95]!==S||e[96]!==B||e[97]!==D||e[98]!==O||e[99]!==H||e[100]!==V||e[101]!==G?(K=t.jsxs("select",{value:Ne,onChange:I,className:"w-full rounded-lg border px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-900",children:[U,S,B,D,O,H,V,G]}),e[92]=i.program_study,e[93]=I,e[94]=U,e[95]=S,e[96]=B,e[97]=D,e[98]=O,e[99]=H,e[100]=V,e[101]=G,e[102]=K):K=e[102];let $;e[103]!==s.program_study?($=s.program_study&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.program_study}),e[103]=s.program_study,e[104]=$):$=e[104];let q;e[105]!==R||e[106]!==K||e[107]!==$?(q=t.jsxs("div",{children:[R,K,$]}),e[105]=R,e[106]=K,e[107]=$,e[108]=q):q=e[108];let J;e[109]!==l?(J=l("upload.label_cover"),e[109]=l,e[110]=J):J=e[110];let Q;e[111]!==J?(Q=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:J}),e[111]=J,e[112]=Q):Q=e[112];let X;e[113]!==r?(X=t.jsx("input",{type:"file",accept:"image/*",onChange:a=>r("cover",a.target.files?.[0]??null),className:"w-full text-xs file:mr-3 file:rounded-md file:border-0 file:bg-blue-50 file:px-3 file:py-2 file:text-xs file:font-semibold file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/30 dark:file:text-blue-400"}),e[113]=r,e[114]=X):X=e[114];let Y;e[115]!==s.cover?(Y=s.cover&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.cover}),e[115]=s.cover,e[116]=Y):Y=e[116];let Z;e[117]!==Q||e[118]!==X||e[119]!==Y?(Z=t.jsxs("div",{children:[Q,X,Y]}),e[117]=Q,e[118]=X,e[119]=Y,e[120]=Z):Z=e[120];let ee;e[121]!==l?(ee=l("upload.label_epub"),e[121]=l,e[122]=ee):ee=e[122];let le;e[123]!==ee?(le=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:ee}),e[123]=ee,e[124]=le):le=e[124];let te;e[125]!==r?(te=t.jsx("input",{type:"file",accept:".epub",onChange:a=>r("epub",a.target.files?.[0]??null),className:"w-full text-xs file:mr-3 file:rounded-md file:border-0 file:bg-emerald-50 file:px-3 file:py-2 file:text-xs file:font-semibold file:text-emerald-700 hover:file:bg-emerald-100 dark:file:bg-emerald-900/30 dark:file:text-emerald-400"}),e[125]=r,e[126]=te):te=e[126];let se;e[127]!==s.epub?(se=s.epub&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.epub}),e[127]=s.epub,e[128]=se):se=e[128];let re;e[129]!==le||e[130]!==te||e[131]!==se?(re=t.jsxs("div",{children:[le,te,se]}),e[129]=le,e[130]=te,e[131]=se,e[132]=re):re=e[132];let ie;e[133]!==Z||e[134]!==re?(ie=t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[Z,re]}),e[133]=Z,e[134]=re,e[135]=ie):ie=e[135];let ae;e[136]!==o||e[137]!==l?(ae=o?t.jsxs("span",{className:"flex items-center justify-center",children:[t.jsxs("svg",{className:"mr-3 -ml-1 h-5 w-5 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l("upload.uploading")]}):l("upload.submit"),e[136]=o,e[137]=l,e[138]=ae):ae=e[138];let oe;e[139]!==o||e[140]!==ae?(oe=t.jsx("button",{type:"submit",disabled:o,className:"w-full rounded-lg bg-blue-600 py-3 font-bold text-white shadow-md transition-all hover:bg-blue-700 active:scale-[0.98] disabled:opacity-50",children:ae}),e[139]=o,e[140]=ae,e[141]=oe):oe=e[141];let de;e[142]!==be||e[143]!==v||e[144]!==L||e[145]!==q||e[146]!==ie||e[147]!==oe||e[148]!==p?(de=t.jsxs("form",{onSubmit:be,className:"space-y-5",children:[p,v,L,q,ie,oe]}),e[142]=be,e[143]=v,e[144]=L,e[145]=q,e[146]=ie,e[147]=oe,e[148]=p,e[149]=de):de=e[149];let me;return e[150]!==n||e[151]!==de||e[152]!==c?(me=t.jsx(ke,{children:t.jsxs("div",{className:"mx-auto max-w-xl p-6",children:[n,c,de]})}),e[150]=n,e[151]=de,e[152]=c,e[153]=me):me=e[153],me}export{Oe as default};
