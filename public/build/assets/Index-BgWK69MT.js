import{c as q,j as t,r as S,L as _,u as B,a as L}from"./app-ChKRtUDN.js";import{u as C}from"./useTranslation-Bc3p_8UA.js";import{A as E}from"./app-layout-CLBYTy8U.js";/* empty css            */import"./button-CTFnsDKh.js";import"./index-xKGEiXBo.js";import"./index-B8JXx_7M.js";import"./index-C7YiAIXt.js";import"./index-CMWG4mbA.js";import"./book-open-C5Ha_fg6.js";import"./globe-48WsUXpa.js";function P(a){const e=q.c(45),{book:r}=a,{t:s}=C();let h;e[0]!==r.id||e[1]!==r.title||e[2]!==s?(h=()=>{window.confirm(s("card.confirm_delete",{title:r.title}))&&S.delete(route("books.delete",r.id))},e[0]=r.id,e[1]=r.title,e[2]=s,e[3]=h):h=e[3];const n=h,d=r.cover?`/storage/covers/${r.cover}`:null,u=r.progress||0,x=r.pages_read||0,o=u>0;let i;e[4]!==r.title||e[5]!==d?(i=d&&t.jsx("img",{src:d,alt:r.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}),e[4]=r.title,e[5]=d,e[6]=i):i=e[6];let c;e[7]!==r.program_study?(c=t.jsx("div",{className:"absolute top-2 left-2 rounded bg-black/60 px-2 py-0.5 text-[10px] font-bold text-white",children:r.program_study}),e[7]=r.program_study,e[8]=c):c=e[8];let m;e[9]!==i||e[10]!==c?(m=t.jsxs("div",{className:"relative aspect-[3/4] w-full overflow-hidden bg-neutral-100 dark:bg-neutral-800",children:[i,c]}),e[9]=i,e[10]=c,e[11]=m):m=e[11];let l;e[12]!==r.title?(l=t.jsx("h3",{className:"mb-1 line-clamp-2 text-sm font-bold text-neutral-900 dark:text-white",children:r.title}),e[12]=r.title,e[13]=l):l=e[13];let p;e[14]!==r.authors||e[15]!==s?(p=r.authors||s("card.unknown_author"),e[14]=r.authors,e[15]=s,e[16]=p):p=e[16];let b;e[17]!==p?(b=t.jsx("p",{className:"mb-3 text-xs text-neutral-500 dark:text-neutral-400",children:p}),e[17]=p,e[18]=b):b=e[18];let f;e[19]!==o||e[20]!==x||e[21]!==u||e[22]!==s?(f=o?t.jsxs("div",{className:"mb-4 rounded-lg border bg-neutral-50 p-2 dark:bg-neutral-800",children:[t.jsxs("div",{className:"mb-1 flex items-center justify-between text-[10px] font-medium",children:[t.jsx("span",{className:"text-neutral-500",children:s("card.progress")}),t.jsxs("span",{className:"font-bold text-blue-600",children:[u,"%"]})]}),t.jsx("div",{className:"h-1.5 w-full rounded-full bg-neutral-200 dark:bg-neutral-700",children:t.jsx("div",{className:"h-full rounded-full bg-blue-600",style:{width:`${u}%`}})}),t.jsxs("div",{className:"mt-2 text-[10px] text-neutral-500",children:[t.jsx("strong",{children:x})," ",s("card.pages_read")]})]}):t.jsx("div",{className:"mb-4 flex h-[62px] items-center justify-center rounded-lg border border-dashed border-neutral-200 text-[10px] text-neutral-400",children:s("card.not_started")}),e[19]=o,e[20]=x,e[21]=u,e[22]=s,e[23]=f):f=e[23];let g;e[24]!==r.id?(g=route("books.show",r.id),e[24]=r.id,e[25]=g):g=e[25];let j;e[26]!==o||e[27]!==s?(j=s(o?"card.continue_read":"card.start_read"),e[26]=o,e[27]=s,e[28]=j):j=e[28];let v;e[29]!==j||e[30]!==g?(v=t.jsx(_,{href:g,className:"inline-flex items-center rounded-md bg-neutral-900 px-3 py-1.5 text-xs font-medium text-white dark:bg-white dark:text-neutral-900",children:j}),e[29]=j,e[30]=g,e[31]=v):v=e[31];let k;e[32]!==n?(k=t.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-red-600",children:"âœ•"}),e[32]=n,e[33]=k):k=e[33];let N;e[34]!==v||e[35]!==k?(N=t.jsxs("div",{className:"mt-auto flex items-center justify-between gap-2 border-t pt-3",children:[v,k]}),e[34]=v,e[35]=k,e[36]=N):N=e[36];let w;e[37]!==N||e[38]!==l||e[39]!==b||e[40]!==f?(w=t.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[l,b,f,N]}),e[37]=N,e[38]=l,e[39]=b,e[40]=f,e[41]=w):w=e[41];let y;return e[42]!==w||e[43]!==m?(y=t.jsxs("div",{className:"group relative flex flex-col overflow-hidden rounded-xl border border-neutral-200 bg-white shadow-sm transition-all hover:-translate-y-1 hover:shadow-md dark:border-neutral-800 dark:bg-neutral-900",children:[m,w]}),e[42]=w,e[43]=m,e[44]=y):y=e[44],y}function G(){const{t:a}=C(),{books:e,programStudies:r,filters:s}=B().props,h=e.data||[],n=e.meta||e,[d,u]=L.useState(s.q||""),[x,o]=L.useState(s.program_study||""),[i,c]=L.useState(!1),m=l=>{l.preventDefault(),c(!0),S.get(route("books.index"),{q:d,program_study:x},{preserveState:!0,preserveScroll:!0,onFinish:()=>c(!1)})};return t.jsx(E,{children:t.jsx("div",{className:"min-h-screen bg-neutral-50 p-6 md:p-12 dark:bg-neutral-950",children:t.jsxs("div",{className:"mx-auto max-w-7xl",children:[t.jsxs("div",{className:"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight text-neutral-900 dark:text-white",children:a("index.title")}),t.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:a("index.subtitle")})]}),t.jsxs(_,{href:route("books.upload"),className:"inline-flex items-center justify-center rounded-lg bg-blue-600 px-5 py-2.5 text-sm font-medium text-white shadow-md transition-all hover:bg-blue-700 active:scale-95",children:[t.jsx("svg",{className:"mr-2 -ml-1 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),a("index.upload_btn")]})]}),t.jsx("div",{className:"mb-10 rounded-xl border border-neutral-200 bg-white p-4 shadow-sm dark:border-neutral-800 dark:bg-neutral-900",children:t.jsxs("form",{onSubmit:m,className:"flex flex-col gap-4 md:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:t.jsx("svg",{className:"h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",placeholder:a("common.search_placeholder"),value:d,onChange:l=>u(l.target.value),className:"block w-full rounded-lg border border-neutral-300 bg-neutral-50 p-2.5 pl-10 text-sm text-neutral-900 focus:border-blue-500 focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-white"})]}),t.jsx("div",{className:"md:w-1/4",children:t.jsx("select",{value:x,onChange:l=>o(l.target.value),className:"block w-full rounded-lg border border-neutral-300 bg-neutral-50 p-2.5 text-sm text-neutral-900 focus:border-blue-500 focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-white",children:r.map(l=>t.jsx("option",{value:l.key,children:l.label},l.key))})}),t.jsx("button",{type:"submit",disabled:i,className:"rounded-lg bg-neutral-900 px-5 py-2.5 text-sm font-medium text-white hover:bg-neutral-800 disabled:opacity-50 dark:bg-white dark:text-black",children:a(i?"common.loading":"common.apply_filter")})]})}),h.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:h.map(l=>t.jsx(P,{book:{...l,cover:l.cover||"/images/default-cover.png"}},l.id))}),t.jsx("div",{className:"mt-12 flex justify-center",children:t.jsxs("div",{className:"flex items-center gap-2",children:[(n.current_page||1)>1&&t.jsx(_,{href:route("books.index",{page:(n.current_page||1)-1,q:d,program_study:x}),className:"flex items-center justify-center rounded-lg border border-neutral-300 bg-white px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",children:a("common.prev")}),t.jsxs("span",{className:"text-sm text-neutral-500",children:[a("common.page")," ",n.current_page]}),(n.current_page||1)<(n.last_page||1)&&t.jsx(_,{href:route("books.index",{page:(n.current_page||1)+1,q:d,program_study:x}),className:"flex items-center justify-center rounded-lg border border-neutral-300 bg-white px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",children:a("common.next")})]})})]}):t.jsxs("div",{className:"flex min-h-[400px] flex-col items-center justify-center rounded-xl border-2 border-dashed border-neutral-200 bg-neutral-50 text-center dark:border-neutral-800",children:[t.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:a("index.not_found")}),t.jsx("p",{className:"mt-1 max-w-sm text-sm text-neutral-500",children:a("index.not_found_sub")}),t.jsx("button",{onClick:()=>{u(""),o(""),S.get(route("books.index"))},className:"mt-4 text-sm font-medium text-blue-600",children:a("index.clear_filter")})]})]})})})}export{G as default};
